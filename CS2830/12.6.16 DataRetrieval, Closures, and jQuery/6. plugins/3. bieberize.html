<!DOCTYPE html> 
<html>
<head>
	<title>jQuery Plugin: Bieberize</title>
	
	<style>
		h1, div, p {
			position: relative;
			height: 150px;
			border: 1px solid black;
		}
	</style>
	
	<script src="jquery-1.11.2.min.js"></script>
	
	<script>
	
        (function( $ ){

            $.fn.bieberize = function() {  

                // Start at 0ms
                var counter = 0;

                // For each of the matched items
                return this.each(function() {
                    
                    // Within .each, this = DOM object
                    // $(this) = jQuery object
                    
                    // Preserve the context of "this"
                    var that = this;
                    
                    // Set a timeout that appends Bieber
                    setTimeout(function() {
                        $(that).append('<img src="images/bieber.jpg">');
                    }, counter);

                    // Increment the counter
                    counter += 50;

                });

            };

        })( jQuery );


        
        $(function() {
            $('#bieberizer').click(function() {
                $(".special").bieberize();
            });
        });
	
	</script>
	
</head>
<body>
	<button type="button" id="bieberizer">Bieberize</button>
	
	<h1 class="special">This is a header</h1>
	<div class="special">This is a div. It is special.</div>
	<p class="special">This is some text inside of a paragraph.</p>
	<p>This is some other text in a paragraph that is not special :)</p>
</body>
</html>

